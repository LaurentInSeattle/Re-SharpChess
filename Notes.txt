TODO: Output board as FEN string
https://en.wikipedia.org/wiki/Forsyth%E2%80%93Edwards_Notation  
https://github.com/Geras1mleo/Chess/blob/master/ChessLibrary/Builders/FenBoardBuilder.cs 
https://github.com/TimHanewich/TimHanewich.Chess/blob/master/src/BoardPosition.cs 

public static string GenerateFenFromBoard(Piece[,] board, char turn, string castling, string enPassant, int halfMove, int fullMove)
{
    StringBuilder fenBuilder = new StringBuilder();
    
    // Iterate ranks from 8 to 1 (top to bottom as FEN specifies)
    for (int rank = 7; rank >= 0; rank--)
    {
        int emptySquares = 0;
        // Iterate files from a to h
        for (int file = 0; file < 8; file++)
        {
            Piece piece = board[rank, file]; // Access your board representation

            if (piece == null) // Assuming null or a specific value indicates an empty square
            {
                emptySquares++;
            }
            else
            {
                if (emptySquares > 0)
                {
                    fenBuilder.Append(emptySquares);
                    emptySquares = 0;
                }
                fenBuilder.Append(piece.FenId); // Assuming Piece class has a FenId property
            }
        }

        if (emptySquares > 0)
        {
            fenBuilder.Append(emptySquares);
        }

        if (rank > 0)
        {
            fenBuilder.Append('/');
        }
    }

    // Append the remaining FEN fields
    fenBuilder.Append($" {turn} {castling} {enPassant} {halfMove} {fullMove}");

    return fenBuilder.ToString();
}